load( "components.asc" );
//trace("this is a test1");

/*

function trim (str) 
{
	if( typeof str != "string") 
		return "";
	str = str.replace(/^\s*/,"");
	str = str.replace(/\s*$/,"");
	str = str.replace(/\n/g,"");
	str = str.replace(/\r/g,"");
	str = str.replace(/\t/g,"");
	return str;

};//Ends function trim()
*/
users = {};


application.onConnect = function (client, userName)
{
	trace("inside the onConnect function" + userName);
	//userName = trim(userName);
	
	if(userName.length == 0)
	{
		application.rejectConnection(client,{msg: "Empty username."});
		return;
	}//Ends if(userName.length==0)
	if (users[userName])
	{
		application.rejectConnection(client, {msg: 'The username "' + userName + '" is already in use.'});
		return;
		
	}//Ends if(users[userName])

	users[userName] = client;
	gFrameworkFC.getClientGlobals(client).userName = username;
	application.acceptConnection(client);

};//Ends application.onConnect

application.onDisconnect = function (client)
{
	var userName = gFrameworkFC.getClientGlobals(client).username;
	delete users[userName];

};//Ends

/*
application.onAppStart = function(){
	trace("this sux!");
};


trace("this is a test2");
*/






































